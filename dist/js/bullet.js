!function e(t,r,n){function o(s,c){if(!r[s]){if(!t[s]){var p="function"==typeof require&&require;if(!c&&p)return p(s,!0);if(i)return i(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var u=r[s]={exports:{}};t[s][0].call(u.exports,function(e){var r=t[s][1][e];return o(r?r:e)},u,u.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,r){"use strict";t.exports=function(e){var t=this,r=t.constructor;return t.callbacks={},t.directMap={},t.sequenceLevels={},t.resetTimer,t.ignoreNextKeyup=!1,t.ignoreNextKeypress=!1,t.nextExpectedAction=!1,t.element=e,t.addEvents(),r.instances.push(t),t},t.exports.prototype.bind=e("./prototype/bind"),t.exports.prototype.bindMultiple=e("./prototype/bindMultiple"),t.exports.prototype.unbind=e("./prototype/unbind"),t.exports.prototype.trigger=e("./prototype/trigger"),t.exports.prototype.reset=e("./prototype/reset.js"),t.exports.prototype.stopCallback=e("./prototype/stopCallback"),t.exports.prototype.handleKey=e("./prototype/handleKey"),t.exports.prototype.addEvents=e("./prototype/addEvents"),t.exports.prototype.bindSingle=e("./prototype/bindSingle"),t.exports.prototype.getKeyInfo=e("./prototype/getKeyInfo"),t.exports.prototype.pickBestAction=e("./prototype/pickBestAction"),t.exports.prototype.getReverseMap=e("./prototype/getReverseMap"),t.exports.prototype.getMatches=e("./prototype/getMatches"),t.exports.prototype.resetSequences=e("./prototype/resetSequences"),t.exports.prototype.fireCallback=e("./prototype/fireCallback"),t.exports.prototype.bindSequence=e("./prototype/bindSequence"),t.exports.prototype.resetSequenceTimer=e("./prototype/resetSequenceTimer"),t.exports.prototype.detach=e("./prototype/detach"),t.exports.instances=[],t.exports.reset=e("./reset"),t.exports.REVERSE_MAP=null},{"./prototype/addEvents":2,"./prototype/bind":3,"./prototype/bindMultiple":4,"./prototype/bindSequence":5,"./prototype/bindSingle":6,"./prototype/detach":7,"./prototype/fireCallback":9,"./prototype/getKeyInfo":10,"./prototype/getMatches":11,"./prototype/getReverseMap":12,"./prototype/handleKey":13,"./prototype/pickBestAction":16,"./prototype/reset.js":17,"./prototype/resetSequenceTimer":18,"./prototype/resetSequences":19,"./prototype/stopCallback":20,"./prototype/trigger":21,"./prototype/unbind":22,"./reset":23}],2:[function(e,t,r){"use strict";t.exports=function(){var t=this,r=e("./dom-event"),n=t.element;t.eventHandler=e("./handleKeyEvent").bind(t),r(n,"keypress",t.eventHandler),r(n,"keydown",t.eventHandler),r(n,"keyup",t.eventHandler)}},{"./dom-event":8,"./handleKeyEvent":14}],3:[function(e,t,r){"use strict";t.exports=function(e,t,r){var n=this;return e=e instanceof Array?e:[e],n.bindMultiple(e,t,r),n}},{}],4:[function(e,t,r){"use strict";t.exports=function(e,t,r){for(var n=this,o=0;o<e.length;++o)n.bindSingle(e[o],t,r)}},{}],5:[function(e,t,r){"use strict";t.exports=function(t,r,n,o){function i(e){return function(){c.nextExpectedAction=e,++c.sequenceLevels[t],c.resetSequenceTimer()}}function s(r){var i;c.fireCallback(n,r,t),"keyup"!==o&&(i=e("../../helpers/characterFromEvent"),c.ignoreNextKeyup=i(r)),setTimeout(function(){c.resetSequences()},10)}var c=this;c.sequenceLevels[t]=0;for(var p=0;p<r.length;++p){var a=p+1===r.length,u=a?s:i(o||c.getKeyInfo(r[p+1]).action);c.bindSingle(r[p],u,o,t,p)}}},{"../../helpers/characterFromEvent":24}],6:[function(e,t,r){"use strict";t.exports=function(e,t,r,n,o){var i=this;i.directMap[e+":"+r]=t,e=e.replace(/\s+/g," ");var s,c=e.split(" ");return c.length>1?void i.bindSequence(e,c,t,r):(s=i.getKeyInfo(e,r),i.callbacks[s.key]=i.callbacks[s.key]||[],i.getMatches(s.key,s.modifiers,{type:s.action},n,e,o),void i.callbacks[s.key][n?"unshift":"push"]({callback:t,modifiers:s.modifiers,action:s.action,seq:n,level:o,combo:e}))}},{}],7:[function(e,t,r){var n=e("./dom-event").off;t.exports=function(){var e=this,t=e.element;n(t,"keypress",e.eventHandler),n(t,"keydown",e.eventHandler),n(t,"keyup",e.eventHandler)}},{"./dom-event":8}],8:[function(e,t,r){function n(e,t,r,n){return!e.addEventListener&&(t="on"+t),(e.addEventListener||e.attachEvent).call(e,t,r,n),r}function o(e,t,r,n){return!e.removeEventListener&&(t="on"+t),(e.removeEventListener||e.detachEvent).call(e,t,r,n),r}t.exports=n,t.exports.on=n,t.exports.off=o},{}],9:[function(e,t,r){"use strict";t.exports=function(t,r,n,o){var i,s,c=this;c.stopCallback(r,r.target||r.srcElement,n,o)||t(r,n)===!1&&(i=e("../../helpers/preventDefault"),i(r),(s=e("../../helpers/stopPropagation"))(r))}},{"../../helpers/preventDefault":28,"../../helpers/stopPropagation":33}],10:[function(e,t,r){"use strict";t.exports=function(t,r){var n,o,i,s,c,p,a,u=this,l=[];for(n=e("../../helpers/keysFromString"),o=n(t),c=e("../../helpers/special-aliases"),p=e("../../helpers/shift-map"),a=e("../../helpers/isModifier"),s=0;s<o.length;++s)i=o[s],c[i]&&(i=c[i]),r&&"keypress"!==r&&p[i]&&(i=p[i],l.push("shift")),a(i)&&l.push(i);return r=u.pickBestAction(i,l,r),{key:i,modifiers:l,action:r}}},{"../../helpers/isModifier":26,"../../helpers/keysFromString":27,"../../helpers/shift-map":29,"../../helpers/special-aliases":30}],11:[function(e,t,r){"use strict";t.exports=function(t,r,n,o,i,s){var c,p,a,u,l=this,f=[],d=n.type;if("keypress"===d&&(!n.code||"Arrow"!==n.code.slice(0,5))){var y=l.callbacks["any-character"]||[];y.forEach(function(e){f.push(e)})}if(!l.callbacks[t])return f;for(a=e("../../helpers/isModifier"),"keyup"===d&&a(t)&&(r=[t]),c=0;c<l.callbacks[t].length;++c)if(p=l.callbacks[t][c],(o||!p.seq||l.sequenceLevels[p.seq]===p.level)&&d===p.action&&(u=e("./modifiersMatch"),"keypress"===d&&!n.metaKey&&!n.ctrlKey||u(r,p.modifiers))){var h=!o&&p.combo===i,v=o&&p.seq===o&&p.level===s;(h||v)&&l.callbacks[t].splice(c,1),f.push(p)}return f}},{"../../helpers/isModifier":26,"./modifiersMatch":15}],12:[function(e,t,r){"use strict";t.exports=function(){var t,r=this,n=r.constructor;if(!n.REVERSE_MAP){n.REVERSE_MAP={},t=e("../../helpers/special-keys-map");for(var o in t)o>95&&o<112||t.hasOwnProperty(o)&&(n.REVERSE_MAP[t[o]]=o)}return n.REVERSE_MAP}},{"../../helpers/special-keys-map":32}],13:[function(e,t,r){"use strict";t.exports=function(t,r,n){var o,i,s,c,p=this,a={},u=0,l=!1;for(o=p.getMatches(t,r,n),i=0;i<o.length;++i)o[i].seq&&(u=Math.max(u,o[i].level));for(i=0;i<o.length;++i)if(o[i].seq){if(o[i].level!==u)continue;l=!0,a[o[i].seq]=1,p.fireCallback(o[i].callback,n,o[i].combo,o[i].seq)}else l||p.fireCallback(o[i].callback,n,o[i].combo);c="keypress"===n.type&&p.ignoreNextKeypress,s=e("../../helpers/isModifier"),n.type!==p.nextExpectedAction||s(t)||c||p.resetSequences(a),p.ignoreNextKeypress=l&&"keydown"===n.type}},{"../../helpers/isModifier":26}],14:[function(e,t,r){"use strict";t.exports=function(t){var r,n,o=this;"number"!=typeof t.which&&(t.which=t.keyCode),r=e("../../helpers/characterFromEvent");var i=r(t);if(i){if("keyup"===t.type&&o.ignoreNextKeyup===i)return void(o.ignoreNextKeyup=!1);n=e("../../helpers/eventModifiers"),o.handleKey(i,n(t),t)}}},{"../../helpers/characterFromEvent":24,"../../helpers/eventModifiers":25}],15:[function(e,t,r){"use strict";t.exports=function(e,t){return e.sort().join(",")===t.sort().join(",")}},{}],16:[function(e,t,r){"use strict";t.exports=function(e,t,r){var n=this;return r||(r=n.getReverseMap()[e]?"keydown":"keypress"),"keypress"===r&&t.length&&(r="keydown"),r}},{}],17:[function(e,t,r){"use strict";t.exports=function(){var e=this;return e.callbacks={},e.directMap={},this}},{}],18:[function(e,t,r){"use strict";t.exports=function(){var e=this;clearTimeout(e.resetTimer),e.resetTimer=setTimeout(function(){e.resetSequences()},1e3)}},{}],19:[function(e,t,r){"use strict";t.exports=function(e){var t=this;e=e||{};var r,n=!1;for(r in t.sequenceLevels)e[r]?n=!0:t.sequenceLevels[r]=0;n||(t.nextExpectedAction=!1)}},{}],20:[function(e,t,r){"use strict";t.exports=function(e,t){if((" "+t.className+" ").indexOf(" combokeys ")>-1)return!1;var r=t.tagName.toLowerCase();return"input"===r||"select"===r||"textarea"===r||t.isContentEditable}},{}],21:[function(e,t,r){"use strict";t.exports=function(e,t){var r=this;return r.directMap[e+":"+t]&&r.directMap[e+":"+t]({},e),this}},{}],22:[function(e,t,r){"use strict";t.exports=function(e,t){var r=this;return r.bind(e,function(){},t)}},{}],23:[function(e,t,r){"use strict";t.exports=function(){var e=this;e.instances.forEach(function(e){e.reset()})}},{}],24:[function(e,t,r){"use strict";t.exports=function(t){var r,n;if(r=e("./special-keys-map"),n=e("./special-characters-map"),"keypress"===t.type){var o=String.fromCharCode(t.which);return t.shiftKey||(o=o.toLowerCase()),o}return r[t.which]?r[t.which]:n[t.which]?n[t.which]:String.fromCharCode(t.which).toLowerCase()}},{"./special-characters-map":31,"./special-keys-map":32}],25:[function(e,t,r){"use strict";t.exports=function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}},{}],26:[function(e,t,r){"use strict";t.exports=function(e){return"shift"===e||"ctrl"===e||"alt"===e||"meta"===e}},{}],27:[function(e,t,r){"use strict";t.exports=function(e){return"+"===e?["+"]:e.split("+")}},{}],28:[function(e,t,r){"use strict";t.exports=function(e){return e.preventDefault?void e.preventDefault():void(e.returnValue=!1)}},{}],29:[function(e,t,r){"use strict";t.exports={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"}},{}],30:[function(e,t,r){"use strict";t.exports={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"}},{}],31:[function(e,t,r){"use strict";t.exports={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}},{}],32:[function(e,t,r){"use strict";t.exports={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",187:"plus",189:"minus",224:"meta"};for(var n=1;n<20;++n)t.exports[111+n]="f"+n;for(n=0;n<=9;++n)t.exports[n+96]=n},{}],33:[function(e,t,r){"use strict";t.exports=function(e){return e.stopPropagation?void e.stopPropagation():void(e.cancelBubble=!0)}},{}],34:[function(e,t,r){var n=e("./fab/vec2"),o=e("./fab/randInt"),i=document.getElementById("canvas"),s=i.getContext("2d");t.exports={getSize:function(){return n(window.innerWidth,window.innerHeight)},getCenter:function(){return n(window.innerWidth/2,window.innerHeight/2)},getRandomBoundPoint:function(){return Math.random()>=.5?n(o(0,window.innerWidth),0):n(0,o(0,window.innerHeight))},resize:function(){i.width=window.innerWidth,i.height=window.innerHeight},circle:function(e){s.fillStyle=e.color,s.beginPath(),s.arc(e.pos.x,e.pos.y,e.radius,0,2*Math.PI),s.fill()},clear:function(){s.fillStyle="white",s.fillRect(0,0,i.width,i.height)},text:function(e,t,r,n){s.fillStyle=n,s.font=r.toString()+"px Helvetica",s.fillStyle(t,e.x,e.y)}}},{"./fab/randInt":37,"./fab/vec2":38}],35:[function(e,t,r){function n(e,t){return Math.sqrt((e.x-t.x)*(e.x-t.x)+(e.y-t.y)*(e.y-t.y))}function o(e,t){var r=n(e.pos,t.pos);return r<e.radius+t.radius}function i(e,t){return!(e.pos.x+e.radius<t.pos.x-t.radius||e.pos.y+e.radius<t.pos.y-t.radius||e.pos.x-e.radius>t.pos.x+t.radius||e.pos.y-e.radius>t.pos.y+t.radius)}function s(e,t){return e>0?e>=t?t:e:e<=-t?-t:e}function c(e){return p(s(e.vel.x,e.maxVel.x),s(e.vel.y,e.maxVel.y))}var p=e("./fab/vec2");t.exports={create:function(e){return{radius:e.radius||4,color:e.color||"black",pos:e.pos||p(0,0),posOffset:e.posOffset||p(0,0),vel:e.vel||p(0,0),maxVel:e.maxVel||p(1,1),acel:e.acel||p(0,0)}},checkCollision:function(e,t){return i(e,t)&&o(e,t)},acel:function(e){e.vel.y+=e.acel.y,e.vel.x+=e.acel.x},move:function(e){e.vel=c(e),e.pos=p.add(e.pos,e.vel)},moveWithKeyboard:function(e,t){t.up&&(e.vel.y-=e.acel.y),t.down&&(e.vel.y+=e.acel.y),t.left&&(e.vel.x-=e.acel.x),t.right&&(e.vel.x+=e.acel.x),this.move(e)},moveWithPlayer:function(e,t){e.pos=p.sub(t.pos,e.posOffset)},swapAround:function(e,t){e.pos.y>t.y?e.pos.y-=t.y:e.pos.y<0&&(e.pos.y+=t.y),e.pos.x>t.x?e.pos.x-=t.x:e.pos.x<0&&(e.pos.x+=t.x)}}},{"./fab/vec2":38}],36:[function(e,t,r){t.exports=function(){return"#"+Math.random().toString(16).substr(-6)}},{}],37:[function(e,t,r){t.exports=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)}},{}],38:[function(e,t,r){var n=function(e,t){return{x:e,y:t}};n.add=function(e,t){return n(e.x+t.x,e.y+t.y)},n.sub=function(e,t){return n(e.x-t.x,e.y-t.y)},n.multi=function(e,t){return n(e.x*t.x,e.y*t.y)},t.exports=n},{}],39:[function(e,t,r){var n=e("./update"),o=document.getElementById("menu"),i=document.getElementById("start");i.onclick=function(){o.style.display="none",n.renderLoop(),n.secondsLoop()}},{"./update":41}],40:[function(e,t,r){var n=e("combokeys"),o=new n(document.documentElement),i={up:!1,down:!1,left:!1,right:!1};o.bind("up",function(){i.up=!0},"keydown"),o.bind("up",function(){i.up=!1},"keyup"),o.bind("down",function(){i.down=!0},"keydown"),o.bind("down",function(){i.down=!1},"keyup"),o.bind("left",function(){i.left=!0},"keydown"),o.bind("left",function(){i.left=!1},"keyup"),o.bind("right",function(){i.right=!0},"keydown"),o.bind("right",function(){i.right=!1},"keyup"),t.exports=i},{combokeys:1}],41:[function(e,t,r){function n(e){for(var t=0,r=d.length;t<r;t++)if(d[t]&&a.checkCollision(e,d[t])){var n=d[t];f.push(a.create({radius:n.radius,color:n.color,pos:n.pos,posOffset:s.sub(v.pos,n.pos)})),d.splice(t,1)}}function o(){y++,u.clear();for(var e=u.getSize(),t=0;t<d.length;t++)if(d[t]){var r=d[t];a.move(r),a.acel(r),a.swapAround(r,e),u.circle(r)}a.moveWithKeyboard(v,l),a.swapAround(v,e),u.circle(v),n(v);for(var i=0;i<f.length;i++){var s=f[i];a.moveWithPlayer(s,v),a.swapAround(s,e),u.circle(s),n(s)}window.requestAnimationFrame(o)}function i(){h++,d.length<=130&&d.push(a.create({radius:c(7,14),color:p(),pos:u.getRandomBoundPoint(),maxVel:s(Math.random()*h/7+1,Math.random()*h/7+1),acel:s(Math.random()<.5?-.005:.005,Math.random()<.5?-.005:.005)})),setTimeout(i,1e3)}var s=e("./fab/vec2"),c=e("./fab/randInt"),p=e("./fab/randHex"),a=e("./entity"),u=e("./canvas"),l=e("./keyboard"),f=[],d=[],y=-1,h=-1;u.resize();var v=a.create({radius:5,color:"red",pos:u.getCenter(),maxVel:s(3,3),acel:s(.4,.4)});t.exports={renderLoop:o,secondsLoop:i}},{"./canvas":34,"./entity":35,"./fab/randHex":36,"./fab/randInt":37,"./fab/vec2":38,"./keyboard":40}]},{},[39]);